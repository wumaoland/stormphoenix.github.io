<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>GAMES202 CG Basics | StormPhoenix</title>
    <meta name="author" content="StormPhoenix">
    <meta name="renderer" content="webkit">
    <meta name="description" content="StormPhoenix's Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
  </head>

    <body class="body-post">
  <div class="post-wrapper">
    <h1 class="post-title"><a href="/GAMES202_Lecture_02" title="GAMES202 CG Basics">GAMES202 CG Basics</a></h1>
    <p class="post-date">2021-09-18</p>

    
<script src="/js/mermaid.min.js"></script>

<!--
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    }
  };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>
<!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> -->
<script src="/js/MathJax.js" type="text/javascript"></script> 

<!--
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
-->

<!-- <script src="/js/MathJax.js" type="text/javascript"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>
-->

    <h3 id="rendering-equation">Rendering Equation</h3>

<p>课程前半部分是关于 OpenGL 渲染管线的回顾，这一块之前学过就不记录了。这里给推荐一个不错的 <a href="https://learnopengl-cn.github.io">OpenGL 入门教程</a>。</p>

<p>但是，后半部分提到的 Rendering Equation 很重要。离线渲染（offline rendering）中渲染方程的形式如下：</p>

<p><img src="/images/Rendering_Equation.jpeg" alt="Rendering Equation" height="70%" width="70%"></p>

<p>对应到 RTR（Real-Time rendering） 领域是另外一个形式：</p>

<p><img src="/images/Rendering_Equation_RTR.jpg" alt="Rendering Equation in RTR" height="70%" width="70%"></p>

<p>RTR 的渲染方程和离线渲染至少有两处不同：</p>

<h5 id="irradiance-term">Irradiance term</h5>

<p>在 offline rendering 中，Li 是指从任意方向投射到 p 点处的光线携带的能量（irradiance），这个光线可以是直接光照、经过多次散射的光照。而在 RTR 中，L 指的是广义上的光源，包括：environment lighting（环境光照）、Direct illumination（直接光照明）和 one bounce illumination（一次散射光照明）。</p>

<p>可以发现， RTR 为了减少计算量，在渲染流程中忽略了 multi-bounce illumination 的计算。这基于一个重要的理论：通常 multi-bounce illumination 携带的能量对于最终成像效果贡献是很小的。</p>

<p><strong>一次散射结果</strong> -&gt;
<img src="/images/One-bounce_global_illumination.jpeg" alt="One-bounce global illumination" height="70%" width="70%"></p>

<p><strong>二次散射结果</strong> -&gt;
<img src="/images/Two-bounce_global_illumination.jpeg" alt="Two-bounce global illumination" height="70%" width="70%"></p>

<p>如上图：光线散射次数分别为1次和2次，从视觉上看渲染结果区别不是很大（除了背光面），就是因为经过二次 散射的光线携带的能量贡献较小，随着散射次数增加，这个能量会小到可以忽略。</p>

<p>结论就是： RTR 实际上是在“性能”和“渲染质量” 上做了一个权衡，只计算直接光照明和一次散射光照明，多次散射的计算用环境光照明代替。</p>

<p><strong>环境光照明</strong> -&gt;
<img src="/images/Environment_lighting.jpeg" alt="Environment lighting" height="70%" width="70%"></p>

<h5 id="visibility-term">Visibility term</h5>

<p>这个很好理解，由于 RTR 将 Li 看做成广义的“光源”，而场景是存在遮挡的，所以 RTR 中加上了 visibility term 表示 p 点和“光源” 之间的遮挡关系。</p>

<p>以上。</p>



    <div id="disqus_container">
  <div class="share-con">
    <script type="text/javascript" charset="utf-8">
      (function(){
        var param = {
          url: 'http://stormphoenix.github.io/GAMES202_Lecture_02',
          type: '6',
          title: '《GAMES202 CG Basics》' + '- 高质量实时渲染课程 Lecture 02 - 往期回顾',
          ralateUid: '6425419082',
          rnd:new Date().valueOf()
        }
        var temp = [];
        for( var p in param ){
          temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
        }
        document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="86" height="16"></iframe>')
      })()
    </script>
  </div>

  <a href="#" class="comment" onclick="return false;">点击查看评论</a>
  <div id="disqus_thread"></div>
</div>


  </div>

  <div class="about-wrapper">
	<!--  <iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=75&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1855270953&verifier=375b89d6&dpc=1" style="margin: 30px 0;"></iframe> -->

  <div class="aboutme">
    <h2><a href="/">所有文章</a></h2>
    <ul>
      
      <li>
        <a href="/GAMES202_Lecture_03" class="title">GAMES202 Real-Time Shadow Mapping</a>
      </li>
      
      <li>
        <a href="/GAMES202_Lecture_02" class="title">GAMES202 CG Basics</a>
      </li>
      
      <li>
        <a href="/GAMES202_Lecture_01" class="title">GAMES202 Introduction and Overview</a>
      </li>
      
      <li>
        <a href="/anatomy-of-linux-kernel-2" class="title">Linux内核完全剖析（二）</a>
      </li>
      
      <li>
        <a href="/Spring-series-four" class="title">Spring系列（四）</a>
      </li>
      
      <li>
        <a href="/Spring-series-three" class="title">Spring系列（三）</a>
      </li>
      
      <li>
        <a href="/anatomy-of-linux-kernel-1" class="title">Linux内核完全剖析（一）</a>
      </li>
      
      <li>
        <a href="/Spring-series-two" class="title">Spring系列（二）</a>
      </li>
      
      <li>
        <a href="/Spring-series-one" class="title">Spring系列（一）</a>
      </li>
      
      <li>
        <a href="/use-quota" class="title">使用Quota</a>
      </li>
      
      <li>
        <a href="/Linux%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86" class="title">Linux账号管理</a>
      </li>
      
      <li>
        <a href="/Linux%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C" class="title">Linux文件操作</a>
      </li>
      
      <li>
        <a href="/use-ACL" class="title">ACL的使用</a>
      </li>
      
      <li>
        <a href="/carriage-return-line-feed-new-line-end-file" class="title">回车、换行、和文件末尾空行</a>
      </li>
      
    </ul>
  </div>
</div>


  <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
  <script src="/js/post.js" type="text/javascript"></script>
</body>


</html>
