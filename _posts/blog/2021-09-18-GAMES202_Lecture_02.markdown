---
layout: post
title:    "GAMES202_Lecture_02"
date:    2021-09-18 21:01:55 +0800
categories:    blog
description: GAMES202 高质量实时渲染课程 Lecture 02 记录
comments: true
---

### GAMES202 Lecture 02 笔记

课程前半部分是关于 OpenGL 渲染管线的回顾，这一块之前学过就不记录了。这里给推荐一个不错的 [OpenGL 入门教程][link_OpenGL]。

但是，后半部分提到的 Rendering Equation 很重要。

![Rendering Equation](/images/Rendering_Equation.jpeg)

上图的 Rendering Equation 是 Offline Rendering 中的形式。对应到 RTR 领域是另外一个形式：

![Rendering Equation in RTR](/images/Rendering_Equation_RTR.jpg)

我的理解是 RTR 这里的渲染方程和 Offline Rendering 有两处不同：

- **Irradiance term**
  
在 offline rendering 中，Li 是指从任意方向投射到 p 点处的光线携带的能量（irradiance），这个光线可以是直接光照、经过多次散射的光照。而在 RTR 中，L 指的是广义上的光源，包括：environment lighting（环境光照）、Direct illumination（直接光照明）和 one bounce illumination（一次散射光照明）。

可以发现， RTR 为了减少计算量，在渲染流程中忽略了 multi-bounce illumination 的计算。这基于一个重要的理论：通常 multi-bounce illumination 携带的能量对于最终成像效果贡献是很小的。例如：光线散射次数分别为 N 和 N + 1 这两种情况下，渲染出来的图像区别一般不大（除了 specular scatter 这种例外），就是因为 N + 1 次 bounce 的光线携带的能量贡献较小。

所以 RTR 实际上是在“性能”和“渲染质量” 上做了一个权衡，忽略 multi-bounce illumination 的计算，用 environment lighting 来代替。

* **Visibility term**
  
这个很好理解，由于 RTR 将 Li 看做成广义的“光源”，而场景是存在遮挡的，所以 RTR 中加上了 visibility term 表示 p 点和“光源” 之间的遮挡关系。

[link_OpenGL]: https://learnopengl-cn.github.io